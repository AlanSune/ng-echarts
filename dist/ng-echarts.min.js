angular.module("ng-echarts",[]).directive("ngEcharts",[function(){return{link:function(t,n,e,o){function i(){var e=echarts.getInstanceByDom(n[0]);if(!e){var o=t.config&&t.config.theme?t.config.theme:"default";e=echarts.init(n[0],o),window.addEventListener("resize",function(t){e.resize()},!1);var i=document.createElement("div"),c=t.config&&t.config.noDataText?t.config.noDataText:"无数据";i.setAttribute("class","ng-charts-data-empty"),i.setAttribute("style","position: absolute; left: 0; right: 0; top: 0; bottom: 0;justify-content: center; align-items: center; color: #888; font-size: 14px; background-color: rgba(255, 255, 255, .7);"),i.appendChild(document.createTextNode(c)),n[0].insertAdjacentElement("beforeend",i)}t.config&&t.config.dataLoaded===!1&&e.showLoading(),t.config&&t.config.dataLoaded&&(t.config.noData?n[0].querySelector(".ng-charts-data-empty").style.display="flex":n[0].querySelector(".ng-charts-data-empty").style.display="none",e.setOption(t.option),e.resize(),e.hideLoading()),t.config&&t.config.event&&angular.isArray(t.config.event)&&angular.forEach(t.config.event,function(t,n){for(var o in t)e.on(o,t[o])})}t.$watch(function(){return t.config},function(t){t&&i()},!0),t.$watch(function(){return t.option},function(t){t&&i()},!0)},scope:{option:"=ecOption",config:"=ecConfig"},restrict:"EA"}}]);